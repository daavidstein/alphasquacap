---
title: "Yearly Ops Chart"
author: "James Trimarco"
date: "5/2/2019"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(here)
library(tidyverse)
library(readxl)
library(lubridate)

```

### s
```{r fig.height=20, fig.width=2}
# Data downloaded from
t_path <- here::here("data", "yearly_ops_all_airports.xlsx") 
t <- read_excel(t_path, skip = 7)

t <- t %>% 
  select(1:2, 8) %>%
  mutate(airport = X__1, 
         year = Year, 
         ops = Operations, 
         len = str_length(airport)) %>%
  filter(year > 1990 & year < 2019) %>%
  filter(len < 4) %>%
  select(airport, year, ops) 

ggplot(t, aes(x = year, y = ops)) +
  scale_y_continuous(limits = c(0, 1000000), labels = scales::comma) +
  geom_line() +
  facet_grid(rows = vars(airport), scales = "free")
```

